<div class="sign-up">
    <form [formGroup]="signUpFormGroup" class="sign-up-form" (submit)="signUp()">
        <h2>Sign Up</h2>
        <div class="form-floating mb-3">
            <input type="text" class="form-control" placeholder="username" formControlName="username" required>
            <label>Username</label>
        </div>
        @if(errorMsg.code === 'username'){
            <p class="text-danger">Username already exists!</p>
        }
        <div class="form-floating mb-3">
            <input type="email" class="form-control" placeholder="email address" formControlName="emailAddress" required>
            <label>Email Address</label>
        </div>
        <div class="form-floating mb-3">
            <input type="tel" class="form-control" placeholder="phone number" formControlName="phoneNumber" required>
            <label>Phone Number</label>
        </div>
        <div class="form-floating mb-3">
            <input type="password" class="form-control" placeholder="password" formControlName="password" required>
            <label>Password</label>
            <span class="hint">Must be a minimum of 8 characters long.</span>
        </div>
        @if(signUpFormGroup.controls.password.valid){
            <div class="form-floating mb-3">
                <input type="password" class="form-control" placeholder="confirm password" formControlName="confirmPassword" required>
                <label>Confirm Password</label>
            </div>
        }
        @if((signUpFormGroup.controls.password.valid && signUpFormGroup.controls.confirmPassword.valid) && (signUpFormGroup.controls.password.value !== signUpFormGroup.controls.confirmPassword.value) ){
            <p class="text-danger">Passwords do not match</p>
        }
       <button type="submit" class="btn btn-primary w-100" [disabled]="signUpFormGroup.invalid">Sign Up</button>

       @if(isLoading){
            <div class="loading-section">
                    <app-loading-indicator></app-loading-indicator>
            </div>
        }
    </form>
</div>